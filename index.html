<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RegexHelper - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ regex –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ê–≤–∏—Ç–æ">
    <meta name="keywords" content="regex, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –∞–≤–∏—Ç–æ, –º–æ–¥–µ—Ä–∞—Ü–∏—è">
    <meta name="author" content="RegexHelper">
    <title>RegexHelper v4.0 - –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ Regex</title>

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/favicon/web-app-manifest-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="images/favicon/web-app-manifest-512x512.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">

    <!-- CSS Modules v4.0 -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/converter.css">
    <link rel="stylesheet" href="css/visualizer.css">
    <link rel="stylesheet" href="css/tester.css">
    <link rel="stylesheet" href="css/case-converter.css">
    <link rel="stylesheet" href="css/reverse-converter.css">
    <link rel="stylesheet" href="css/history.css">
    <link rel="stylesheet" href="css/modals.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <img src="images/logo.png" alt="RegexHelper" height="32">
        </div>

        <nav class="header-nav">
            <a href="#converterSection" class="nav-link">üìä –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</a>
            <a href="#visualizerSection" class="nav-link">üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä</a>
            <a href="#testerSection" class="nav-link">üß™ –¢–µ—Å—Ç–µ—Ä</a>
            <a href="#historySection" class="nav-link">üìú –ò—Å—Ç–æ—Ä–∏—è</a>
        </nav>

        <div class="header-actions">
            <button class="btn-icon" id="regulationsBtn" title="–°–ø—Ä–∞–≤–∫–∞">‚ùì</button>
            <button class="btn-danger btn-sm" id="resetBtn">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Converter Section -->
        <div class="section-header" id="converterSection">
            <h1 class="section-title">üìä –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤</h1>
            <p class="section-description">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä—ã (—Å–ª–æ–≤–∞-–º–∞—Ä–∫–µ—Ä—ã) –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</p>
        </div>

        <!-- Three Columns Layout -->
        <section class="three-columns">
            <!-- Panel 1: Input (Triggers) -->
            <div class="panel panel-accordion active" id="panelInput">
                <div class="panel-header panel-header-clickable" onclick="toggleAccordion('panelInput')">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span class="accordion-toggle">‚ñº</span>
                        <h2 class="panel-title">1. –¢—Ä–∏–≥–≥–µ—Ä—ã</h2>
                    </div>
                    <button class="btn-icon" id="inputHelpBtn" onclick="event.stopPropagation(); openPanelHelp('input');" title="–ü–æ–¥—Å–∫–∞–∑–∫–∞">‚ùì</button>
                </div>

                <div class="panel-body panel-collapsible">
                    <!-- === LINKED TRIGGERS === -->
                    <div class="input-section">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <label class="label" style="margin: 0;">üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã</label>
                            <button class="btn-icon btn-icon-sm" onclick="openPanelHelp('linked');" title="–ß—Ç–æ —ç—Ç–æ?">‚ùì</button>
                        </div>

                        <p class="hint-text" style="margin-bottom: 16px;">
                            –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏—â—É—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–º –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, <strong>"–≤–æ–µ–Ω–Ω—ã–π –¥—Ä–æ–Ω"</strong>).
                        </p>

                        <!-- === LINK MODE SELECTOR (3 —Ä–µ–∂–∏–º–∞) === -->
                        <div class="link-mode-section">
                            <div class="link-mode-header">
                                <span style="font-size: 14px; font-weight: 600; color: #1976D2;">‚öô –†–µ–∂–∏–º —Å–≤—è–∑–∏</span>
                            </div>

                            <div class="link-mode-selector">
                                <label class="radio-inline">
                                    <input type="radio" name="linkMode" value="individual" class="radio" checked>
                                    <span class="radio-label">
                                        <strong>Individual</strong>
                                        <small>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–≥—Ä—É–ø–ø—ã</small>
                                    </span>
                                </label>

                                <label class="radio-inline">
                                    <input type="radio" name="linkMode" value="common" class="radio">
                                    <span class="radio-label">
                                        <strong>Common</strong>
                                        <small>–û–±—â–∞—è —Å–≤—è–∑—å –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–≥—Ä—É–ø–ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>.{1,7}</code>)</small>
                                    </span>
                                </label>

                                <label class="radio-inline">
                                    <input type="radio" name="linkMode" value="alternation" class="radio">
                                    <span class="radio-label">
                                        <strong>Alternation</strong>
                                        <small>–ë–µ–∑ —Å–≤—è–∑–µ–π (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ü–∏—è <code>|</code>)</small>
                                    </span>
                                </label>
                            </div>

                            <!-- Common Param Selector (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–∂–∏–º–∞ Common) -->
                            <div id="commonParamSelector" class="common-param-selector" style="display: none; margin-top: 12px;">
                                <label class="label" style="font-size: 13px;">–û–±—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–≤—è–∑–∏:</label>
                                <select class="input" id="commonParamSelect" style="margin-bottom: 8px;">
                                    <option value=".{1,7}">–î–æ 7 —Å–∏–º–≤–æ–ª–æ–≤ (.{1,7})</option>
                                    <option value=".{1,10}">–î–æ 10 —Å–∏–º–≤–æ–ª–æ–≤ (.{1,10})</option>
                                    <option value=".{0,30}">–î–æ 30 —Å–∏–º–≤–æ–ª–æ–≤ (.{0,30})</option>
                                    <option value=".{1,15}">–î–æ 15 —Å–∏–º–≤–æ–ª–æ–≤ (.{1,15})</option>
                                    <option value=".{5,20}">5-20 —Å–∏–º–≤–æ–ª–æ–≤ (.{5,20})</option>
                                    <option value="custom">–°–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä...</option>
                                </select>

                                <!-- Custom Input -->
                                <div id="customParamInput" style="display: none;">
                                    <input type="text" class="input input-code" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: .{1,15}" id="customParam">
                                </div>
                            </div>
                        </div>

                        <!-- Linked Triggers Container -->
                        <div id="linkedTriggersContainer" style="margin-top: 16px;"></div>

                        <button class="btn-secondary btn-sm mt-1" id="addLinkedGroupBtn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É</button>
                    </div>

                    <div style="height: 1px; background: #e0e0e0; margin: 24px 0;"></div>

                    <!-- === SIMPLE TRIGGERS === -->
                    <div class="input-section">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <label for="simpleTriggers" class="label" style="margin: 0;">üìù –ü—Ä–æ—Å—Ç—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã</label>
                            <button class="btn-icon btn-icon-sm" onclick="openPanelHelp('simple');" title="–ß—Ç–æ —ç—Ç–æ?">‚ùì</button>
                        </div>

                        <p class="hint-text" style="margin-bottom: 12px;">
                            –í–≤–µ–¥–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É. –î—É–±–ª–∏–∫–∞—Ç—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
                        </p>

                        <textarea 
                            id="simpleTriggers" 
                            class="textarea" 
                            placeholder="–¥—Ä–æ–Ω&#10;–±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫&#10;–∫–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä"
                            rows="6"
                        ></textarea>

                        <div class="input-footer">
                            <span id="simpleTriggerCount" class="counter">0 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤</span>
                            <span class="duplicate-note" id="duplicateNote" style="display: none;"></span>
                            <button class="btn-icon" onclick="confirmClearSimpleTriggers();" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë">‚ùå</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Panel 2: Optimization -->
            <div class="panel panel-accordion active" id="panelOptimization">
                <div class="panel-header panel-header-clickable" onclick="toggleAccordion('panelOptimization')">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span class="accordion-toggle">‚ñº</span>
                        <h2 class="panel-title">2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</h2>
                    </div>
                    <button class="btn-icon" id="optimizationHelpBtn" onclick="event.stopPropagation(); openPanelHelp('optimization');" title="–ü–æ–¥—Å–∫–∞–∑–∫–∞">‚ùì</button>
                </div>

                <div class="panel-body panel-collapsible">
                    <p class="hint-text" style="margin-bottom: 16px;">
                        <strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</strong> —Å–æ–∫—Ä–∞—â–∞—é—Ç –¥–ª–∏–Ω—É regex –∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç –æ—Ö–≤–∞—Ç —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤.
                    </p>

                    <!-- Type 1: –í–∞—Ä–∏–∞—Ü–∏–∏ -->
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="checkbox" id="optType1" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">
                                <strong>Type 1:</strong> –í–∞—Ä–∏–∞—Ü–∏–∏ –ª–∞—Ç–∏–Ω–∏—Ü–∞‚Üî–∫–∏—Ä–∏–ª–ª–∏—Ü–∞
                                <code>[d–¥][p—Ä][o–æ]</code>
                                <button class="btn-icon btn-icon-sm" onclick="event.stopPropagation(); openOptimizationHelp('type1');" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">‚ùì</button>
                            </span>
                            <span class="checkbox-hint">
                                –ó–∞–º–µ–Ω—è–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –±—É–∫–≤—ã (–æ, a, e, –∏ —Ç.–¥.) –Ω–∞ [o–æ], [a–∞], [e–µ]
                            </span>
                        </div>
                    </label>

                    <!-- Type 2: –û–±—â–∏–π –∫–æ—Ä–µ–Ω—å -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType2" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">
                                <strong>Type 2:</strong> –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–±—â–µ–º—É –∫–æ—Ä–Ω—é
                                <code>–∫–Ω–∏–≥[–∞–∏]</code>
                                <button class="btn-icon btn-icon-sm" onclick="event.stopPropagation(); openOptimizationHelp('type2');" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">‚ùì</button>
                            </span>
                            <span class="checkbox-hint">
                                –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–ª–∏–Ω–æ–π 1-2 –±—É–∫–≤—ã: –∫–Ω–∏–≥–∞, –∫–Ω–∏–≥–∏ ‚Üí –∫–Ω–∏–≥[–∞–∏]
                            </span>
                        </div>
                    </label>

                    <!-- Type 4: –°–∫–ª–æ–Ω–µ–Ω–∏—è -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType4" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">
                                <strong>Type 4:</strong> –ê–≤—Ç–æ—Å–∫–ª–æ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö
                                <code>–¥—Ä–æ–Ω(–∞|—É|–æ–º|–µ|—ã|–æ–≤|–∞–º–∏|–∞—Ö)</code>
                                <button class="btn-icon btn-icon-sm" onclick="event.stopPropagation(); openOptimizationHelp('type4');" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">‚ùì</button>
                            </span>
                            <span class="checkbox-hint">
                                –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –ø–∞–¥–µ–∂–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è
                            </span>
                        </div>
                    </label>

                    <!-- Type 5: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType5" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">
                                <strong>Type 5:</strong> –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —É–¥–≤–æ–µ–Ω–Ω–∞—è –±—É–∫–≤–∞
                                <code>–ø–∞—Å?–∏–≤–Ω—ã–π</code>
                                <button class="btn-icon btn-icon-sm" onclick="event.stopPropagation(); openOptimizationHelp('type5');" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">‚ùì</button>
                            </span>
                            <span class="checkbox-hint">
                                –î–µ–ª–∞–µ—Ç —É–¥–≤–æ–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏: –ø–∞—Å—Å–∏–≤–Ω—ã–π ‚Üí –ø–∞—Å?–∏–≤–Ω—ã–π
                            </span>
                        </div>
                    </label>

                    <!-- Type 6: –¢–æ—á–∫–∏ –º–µ–∂–¥—É –±—É–∫–≤–∞–º–∏ -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType6">
                        <div class="checkbox-content">
                            <span class="checkbox-label">
                                <strong>Type 6:</strong> –í–∞—Ä–∏–∞—Ü–∏–∏ —Å —Ç–æ—á–∫–∞–º–∏
                                <code>t.e.s.t</code>
                                <button class="btn-icon btn-icon-sm" onclick="event.stopPropagation(); openOptimizationHelp('type6');" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">‚ùì</button>
                            </span>
                            <span class="checkbox-hint">
                                –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ—á–∫–∏ –º–µ–∂–¥—É –±—É–∫–≤–∞–º–∏: test ‚Üí t.e.s.t
                            </span>
                        </div>
                    </label>

                    <!-- Type 6 Modes (–ö–†–ò–¢–ò–ß–ù–û! –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ CONVERTER_SPEC_V4.txt) -->
                    <div id="type6Modes" class="type6-modes-section" style="display: none; margin-left: 30px; margin-top: 12px;">
                        <label class="radio-wrapper">
                            <input type="radio" name="type6Mode" value="wildcard" class="radio" checked>
                            <div class="radio-content">
                                <span class="radio-label">üîπ A) Wildcard</span>
                                <span class="radio-hint">
                                    –¢–æ—á–∫–∞ = –ª—é–±–æ–π —Å–∏–º–≤–æ–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –æ—Ö–≤–∞—Ç —à–∏—Ä–µ)<br>
                                    <strong>–ü—Ä–∏–º–µ—Ä:</strong> test ‚Üí t.e.s.t (–Ω–∞–π–¥—ë—Ç "test", "t@e@s@t", –∏ —Ç.–¥.)
                                </span>
                            </div>
                        </label>

                        <label class="radio-wrapper">
                            <input type="radio" name="type6Mode" value="exact" class="radio">
                            <div class="radio-content">
                                <span class="radio-label">üîπ B) Exact</span>
                                <span class="radio-hint">
                                    –¢–æ—á–∫–∞ = —Ç–æ—á–∫–∞ (—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è, —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)<br>
                                    <strong>–ü—Ä–∏–º–µ—Ä:</strong> test ‚Üí t\.e\.s\.t (–Ω–∞–π–¥—ë—Ç —Ç–æ–ª—å–∫–æ "t.e.s.t")
                                </span>
                            </div>
                        </label>
                    </div>

                    <button class="btn-primary mt-2" id="convertBtn" style="width: 100%;">üöÄ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>

            <!-- Panel 3: Result -->
            <div class="panel panel-accordion active" id="panelResult">
                <div class="panel-header panel-header-clickable" onclick="toggleAccordion('panelResult')">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span class="accordion-toggle">‚ñº</span>
                        <h2 class="panel-title">3. –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                    </div>
                    <div class="panel-header-actions">
                        <button class="btn-icon" onclick="event.stopPropagation(); openPanelHelp('result');" title="–ü–æ–¥—Å–∫–∞–∑–∫–∞">‚ùì</button>
                        <button class="btn-icon" onclick="confirmClearResult();" title="–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç">‚ùå</button>
                    </div>
                </div>

                <div class="panel-body panel-collapsible">
                    <label for="regexResult" class="label">Regex:</label>
                    <textarea 
                        id="regexResult" 
                        class="textarea input-code" 
                        placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å..."
                        rows="6"
                        readonly
                    ></textarea>

                    <!-- Result Stats -->
                    <div id="resultStats" class="result-stats" style="display: none;"></div>

                    <!-- Result Info -->
                    <div class="result-info mt-1">
                        <span id="regexLength" class="info-text">–î–ª–∏–Ω–∞: 0 —Å–∏–º–≤–æ–ª–æ–≤</span>
                    </div>

                    <!-- Actions -->
                    <div class="button-group mt-2">
                        <button class="btn-primary" id="copyRegexBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å Regex</button>
                        <button class="btn-secondary" id="exportBtn">üíæ –≠–∫—Å–ø–æ—Ä—Ç</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualizer Section -->
        <section id="visualizerSection" class="tool-section">
            <div class="section-header">
                <h2>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è Regex</h2>
            </div>

            <div class="section-content">
                <div class="visualizer-input-group">
                    <label for="visualizerRegex">–í–≤–µ–¥–∏—Ç–µ regex:</label>
                    <textarea id="visualizerRegex" rows="3" placeholder="[a-z]+"></textarea>
                </div>

                <div class="visualizer-buttons">
                    <button id="visualizeBtn">üé® –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>

                <div id="diagramContainer"></div>

                <div class="visualizer-controls">
                    <button id="exportSvgBtn">üíæ –≠–∫—Å–ø–æ—Ä—Ç SVG</button>
                    <button id="exportPngBtn">üíæ –≠–∫—Å–ø–æ—Ä—Ç PNG</button>
                    <button id="openFullscreenBtn">üîç –ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω</button>
                    <button id="zoomInBtn" title="–£–≤–µ–ª–∏—á–∏—Ç—å">‚ûï</button>
                    <button id="zoomOutBtn" title="–£–º–µ–Ω—å—à–∏—Ç—å">‚ûñ</button>
                </div>
            </div>
        </section>

        <!-- Tester Section -->
        <section class="panel" id="testerSection">
            <div class="panel-header">
                <h2 class="panel-title">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Regex</h2>
                <button class="btn-icon" id="closeTesterBtn" title="–ó–∞–∫—Ä—ã—Ç—å">‚úñ</button>
            </div>

            <div class="panel-body">
                <div class="form-group">
                    <label for="testText" class="label">
                        –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç
                        <span class="label-hint">(–≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å regex)</span>
                    </label>
                    <textarea 
                        id="testText" 
                        class="textarea" 
                        rows="6"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...&#10;–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–¥–∞—é –≤–æ–µ–Ω–Ω—ã–π –¥—Ä–æ–Ω –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –ë–ø–ª–∞ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é."
                    ></textarea>
                </div>

                <div id="testResults" style="display: none;">
                    <div class="test-stats">
                        <div class="test-stat-item">
                            <span class="test-stat-label">–ù–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</span>
                            <span class="test-stat-value" id="matchCount">0</span>
                        </div>
                    </div>

                    <div class="test-highlight-container">
                        <div class="test-highlight-label"><strong>–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</strong></div>
                        <div class="test-highlight" id="testHighlight"></div>
                    </div>

                    <div class="test-matches-container" id="testMatchesContainer" style="display: none;">
                        <div class="test-matches-label"><strong>–°–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</strong></div>
                        <div class="test-matches-list" id="testMatchesList"></div>
                    </div>
                </div>

                <div id="testEmpty" class="test-empty">
                    <p>üî¨</p>
                    <p class="text-muted">–í–≤–µ–¥–∏—Ç–µ Regex –∏ —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –≤—ã—à–µ, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ "–¢–µ—Å—Ç"</p>
                </div>
            </div>
        </section>

        <!-- History Section -->
        <section class="panel" id="historySection">
            <div class="panel-header">
                <h2 class="panel-title">
                    üìú –ò—Å—Ç–æ—Ä–∏—è
                    <span class="history-counter">(<span id="historyCount">0</span> / 100)</span>
                </h2>
                <button class="btn-icon" id="refreshHistoryBtn" title="–û–±–Ω–æ–≤–∏—Ç—å">üîÑ</button>
            </div>

            <div class="panel-body">
                <div id="historyList" class="history-list"></div>

                <div id="historyEmpty" class="history-empty" style="display: block;">
                    <p>üìú</p>
                    <p class="text-muted">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∏ –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å. –•—Ä–∞–Ω–∏—Ç—Å—è –¥–æ 100 –∑–∞–ø–∏—Å–µ–π.</p>
                </div>

                <div class="mt-2">
                    <button class="btn-danger btn-sm" id="clearHistoryBtn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" class="scroll-top-btn" title="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>

    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text">
            RegexHelper ¬© 2026
            <span class="footer-separator">‚Ä¢</span>
            Pet-project –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ê–≤–∏—Ç–æ
            <span class="footer-separator">‚Ä¢</span>
            Built with <a href="https://claude.ai" target="_blank" rel="noopener" class="footer-link">Claude AI</a>
        </p>
        <p class="footer-links">
            <a href="https://github.com/bogdanuz/regex-helper" target="_blank" rel="noopener" class="footer-link footer-link-github">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                </svg>
                GitHub
            </a>
        </p>
    </footer>

    <!-- Modals -->

    <!-- Confirm Modal -->
    <div id="confirmModal" class="modal-overlay" style="display: none;">
        <div class="modal modal-small">
            <div class="modal-header">
                <h3 class="modal-title" id="confirmModalTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
            </div>
            <div class="modal-body">
                <p id="confirmModalText">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
            </div>
            <div class="modal-footer">
                <button class="btn-danger" id="confirmModalYes">–î–∞</button>
                <button class="btn-secondary" id="confirmModalNo">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Regulations Modal -->
    <div id="regulationsModal" class="modal-overlay" style="display: none;">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 class="modal-title">üìñ –°–ø—Ä–∞–≤–∫–∞ RegexHelper</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body modal-body-scrollable">
                <h3>üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</h3>

                <!-- Type 1 -->
                <div class="regulation-section">
                    <h4>1. –í–∞—Ä–∏–∞—Ü–∏–∏ –ª–∞—Ç–∏–Ω–∏—Ü–∞‚Üî–∫–∏—Ä–∏–ª–ª–∏—Ü–∞ (Type 1)</h4>
                    <p>–ó–∞–º–µ–Ω—è–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –±—É–∫–≤—ã –ª–∞—Ç–∏–Ω–∏—Ü—ã –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –Ω–∞ —Å–∏–º–≤–æ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–¥—Ä–æ–Ω</code><br>
                        <em>–†–µ–∑—É–ª—å—Ç–∞—Ç: [d–¥][p—Ä][o–æ][n–Ω]</em>
                    </div>
                </div>

                <!-- Type 2 -->
                <div class="regulation-section">
                    <h4>2. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–±—â–µ–º—É –∫–æ—Ä–Ω—é (Type 2)</h4>
                    <p>–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–ª–∏–Ω–æ–π 1-2 –±—É–∫–≤—ã –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ —Å –æ–±—â–∏–º –∫–æ—Ä–Ω–µ–º.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–∫–Ω–∏–≥–∞, –∫–Ω–∏–≥–∏</code><br>
                        <em>–†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–Ω–∏–≥[–∞–∏]</em>
                    </div>
                </div>

                <!-- Type 4 -->
                <div class="regulation-section">
                    <h4>3. –ê–≤—Ç–æ—Å–∫–ª–æ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö (Type 4)</h4>
                    <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞–¥–µ–∂–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è. –¢—Ä–µ–±—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É russian-nouns.js.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–¥—Ä–æ–Ω</code><br>
                        <em>–†–µ–∑—É–ª—å—Ç–∞—Ç: –¥—Ä–æ–Ω(–∞|—É|–æ–º|–µ|—ã|–æ–≤|–∞–º–∏|–∞—Ö)</em>
                    </div>
                </div>

                <!-- Type 5 -->
                <div class="regulation-section">
                    <h4>4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —É–¥–≤–æ–µ–Ω–Ω–∞—è –±—É–∫–≤–∞ (Type 5)</h4>
                    <p>–î–µ–ª–∞–µ—Ç —É–¥–≤–æ–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–ø–∞—Å—Å–∏–≤–Ω—ã–π</code><br>
                        <em>–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–∞—Å?–∏–≤–Ω—ã–π</em>
                    </div>
                </div>

                <!-- Type 6 -->
                <div class="regulation-section">
                    <h4>5. –í–∞—Ä–∏–∞—Ü–∏–∏ —Å —Ç–æ—á–∫–∞–º–∏ (Type 6)</h4>
                    <p>–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ—á–∫–∏ –º–µ–∂–¥—É –±—É–∫–≤–∞–º–∏. –î–≤–∞ —Ä–µ–∂–∏–º–∞:</p>
                    <ul>
                        <li><strong>Wildcard:</strong> –¢–æ—á–∫–∞ = –ª—é–±–æ–π —Å–∏–º–≤–æ–ª (t.e.s.t)</li>
                        <li><strong>Exact:</strong> –¢–æ—á–∫–∞ = —Ç–æ—á–∫–∞ (t\.e\.s\.t)</li>
                    </ul>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä (Wildcard):</strong> <code>test</code><br>
                        <em>–†–µ–∑—É–ª—å—Ç–∞—Ç: t.e.s.t (–Ω–∞–π–¥—ë—Ç "test", "t@e@s@t")</em>
                    </div>
                </div>

                <h3>üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã</h3>
                <div class="regulation-section">
                    <h4>6. –†–µ–∂–∏–º—ã —Å–≤—è–∑–∏</h4>
                    <ul>
                        <li><strong>Individual:</strong> –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∏</li>
                        <li><strong>Common:</strong> –û–±—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –≤—Å–µ—Ö —Å–≤—è–∑–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, .{1,7})</li>
                        <li><strong>Alternation:</strong> –ë–µ–∑ —Å–≤—è–∑–µ–π (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ |)</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeModal('regulationsModal');">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Panel Help Modal -->
    <div id="panelHelpModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="panelHelpTitle">–ü–æ–º–æ—â—å</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body modal-body-scrollable" id="panelHelpContent">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è -->
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeModal('panelHelpModal');">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- RussianNouns Library -->
    <script src="lib/russian-nouns/russian-nouns.min.js"></script>

    <!-- Type 6 Modes Toggle Script -->
    <script>
        // Type 6 Modes: –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ checkbox
        document.addEventListener('DOMContentLoaded', function() {
            const type6Checkbox = document.getElementById('optType6');
            const type6Modes = document.getElementById('type6Modes');

            if (type6Checkbox && type6Modes) {
                type6Checkbox.addEventListener('change', function() {
                    type6Modes.style.display = this.checked ? 'block' : 'none';
                });
            }
        });
    </script>

    <!-- Application JS Modules v4.0 -->
    <script type="module" src="js-new/main.js"></script>
</body>
</html>
