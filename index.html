<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RegexHelper - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞">
    <meta name="keywords" content="regex, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –º–æ–¥–µ—Ä–∞—Ü–∏—è">
    <meta name="author" content="RegexHelper">
    
    <!-- Security -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://unpkg.com https://mc.yandex.ru; 
                   style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
                   font-src 'self' https://fonts.gstatic.com;
                   img-src 'self' data:;">
    
    <title>RegexHelper - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/favicon/web-app-manifest-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="images/favicon/web-app-manifest-512x512.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/popup.css">
    <link rel="stylesheet" href="css/spinner.css">
    
    <!-- External Libraries (CDN + Fallback) -->
    <script src="https://cdn.jsdelivr.net/npm/russian-nouns-js@2.3.0/RussianNouns.min.js" 
            onerror="this.onerror=null; this.src='lib/russian-nouns/RussianNouns.min.js'"></script>
    <script src="https://unpkg.com/railroad-diagrams@1.0.0/railroad-diagrams.js" 
            onerror="this.onerror=null; this.src='lib/railroad-diagrams/railroad-diagrams.js'"></script>
<style>
    /* –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
    * {
        --tooltip-delay: 0ms;
    }
</style>
    
</head>
<body>
    <!-- Loading Spinner (hidden by default) -->
    <div id="spinnerOverlay" class="spinner-overlay" style="display: none;">
        <div class="spinner"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <img src="images/logo.png" alt="RegexHelper" height="32">
        </div>
        
        <!-- Navigation -->
        <nav class="header-nav">
            <a href="#converterSection" class="nav-link">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</a>
            <a href="#visualizerPanel" class="nav-link">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</a>
            <a href="#testerPanel" class="nav-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
            <a href="#reversePanel" class="nav-link">–û–±—Ä–∞—Ç–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä</a>
            <a href="#historyPanel" class="nav-link">–ò—Å—Ç–æ—Ä–∏—è</a>
        </nav>
        
        <div class="header-actions">
            <button class="btn-icon" id="helpBtn" title="–°–ø—Ä–∞–≤–∫–∞">?</button>
            <button class="btn-danger btn-sm" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
            <!-- –í —Ö–µ–¥–µ—Ä–µ, —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π "–ü–æ–º–æ—â—å" -->
<button class="btn-icon" id="historyBtn" title="–ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–π">
    üìú
</button>

        </div>
    </header>

    <!-- Main Content -->
    <main class="container">

                <!-- Converter Section Title -->
        <div class="section-header" id="converterSection">
            <h1 class="section-title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</h1>
            <p class="section-description">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</p>
        </div>
        
        <!-- Three Columns Layout -->
        <section class="three-columns">
            
            <!-- Panel 1: Input Triggers -->
            <div class="panel" id="panelInput">
                <div class="panel-header">
                    <h2 class="panel-title">1. –¢—Ä–∏–≥–≥–µ—Ä—ã</h2>
                    <button class="btn-icon" id="inputHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
                </div>
                <div class="panel-body">
                    
                    <!-- Simple Triggers -->
                    <div class="input-section">
                        <label for="simpleTriggers" class="label">
                            –ü—Ä–æ—Å—Ç—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
                            <span class="label-hint">(–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É, –º–∞–∫—Å 200)</span>
                        </label>
                        <textarea 
                            id="simpleTriggers" 
                            class="textarea" 
                            placeholder="—è–±–ª–æ–∫–æ&#10;–≥—Ä—É—à–∞&#10;–∞–ø–µ–ª—å—Å–∏–Ω"
                            rows="8"
                        ></textarea>
                        <div class="input-footer">
    <span id="simpleTriggerCount" class="counter">0 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤</span>
    <span class="duplicate-note" id="duplicateNote" style="display: none;"></span>
    <button class="btn-icon" onclick="clearSimpleTriggers()" title="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ '–ü—Ä–æ—Å—Ç—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã'">üóëÔ∏è</button>
</div>
                    </div>

                    <!-- Linked Triggers -->
                    <div class="input-section mt-2">
                        <label class="label">
                            –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
                            <span class="label-hint">(–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å–ª–æ–≤)</span>
                        </label>
                        <div id="linkedTriggersContainer">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≥—Ä—É–ø–ø—ã -->
                        </div>
                        <button class="btn-secondary btn-sm mt-1" id="addLinkedGroupBtn">
                            + –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É
                        </button>
                    </div>

                </div>
            </div>

            <!-- Panel 2: Optimization Suggestions -->
            <div class="panel" id="panelOptimization">
                <div class="panel-header">
                    <h2 class="panel-title">2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</h2>
                    <button class="btn-icon" id="optimizationHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
                </div>
                <div class="panel-body">
                    
                    <p class="hint-text">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:</p>

                    <!-- Optimization Type 1 -->
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="checkbox" id="optType1" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–æ–≤</span>
                            <span class="checkbox-hint">—Ç–æ–≤–∞—Ä, —Ç–æ–≤–∞—Ä—Ä ‚Üí —Ç–æ–≤–∞—Ä—Ä?</span>
                        </div>
                    </label>

                    <!-- Optimization Type 2 -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType2" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–û–±—â–∏–π –∫–æ—Ä–µ–Ω—å</span>
                            <span class="checkbox-hint">–º–∞—à–∏–Ω–∞, –º–∞—à–∏–Ω—ã ‚Üí –º–∞—à–∏–Ω[–∞—ã]</span>
                        </div>
                    </label>

                    <!-- Optimization Type 3 -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType3" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–ó–∞–º–µ–Ω–∞ –ª–∞—Ç–∏–Ω–∏—Ü–∞‚Üî–∫–∏—Ä–∏–ª–ª–∏—Ü–∞</span>
                            <span class="checkbox-hint">[t—Ç][e–µ]st</span>
                        </div>
                    </label>

                    <!-- Optimization Type 4 -->
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType4" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞</span>
                            <span class="checkbox-hint">(–∫—Ä–∞—Å–Ω|—Å–∏–Ω)–∏–π</span>
                        </div>
                    </label>

                    <!-- Convert Button -->
                    <button class="btn-primary mt-2" id="convertBtn" style="width: 100%;">
                        –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>

                </div>
            </div>

            <!-- Panel 3: Result -->

            <div class="panel" id="panelResult">
                <div class="panel-header">
    <h2 class="panel-title">3. –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
    <div class="panel-header-actions">
        <button class="btn-icon" onclick="clearResultRegex()" title="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ '–†–µ–∑—É–ª—å—Ç–∞—Ç'">üóëÔ∏è</button>
        <button class="btn-icon" id="resultHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
    </div>
</div>
                <div class="panel-body">
                    
                    <label for="resultRegex" class="label">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <textarea 
                        id="resultRegex" 
                        class="textarea input-code" 
                        placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è regex –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏"
                        rows="8"
                        readonly
                    ></textarea>
                    
                    <div class="result-info mt-1">
                        <span id="regexLength" class="info-text">–î–ª–∏–Ω–∞: 0 —Å–∏–º–≤–æ–ª–æ–≤</span>
                    </div>

                    <!-- Action Buttons -->
<div class="button-group mt-2">
    <button class="btn-primary" id="copyRegexBtn">
        üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
    </button>
    <button class="btn btn-secondary" id="testRegexBtn">
        üß™ –¢–µ—Å—Ç–µ—Ä
    </button>
    <button class="btn-secondary" id="exportBtn">
        üíæ –≠–∫—Å–ø–æ—Ä—Ç
    </button>
</div>

                </div>
            </div>

        </section>

        <!-- Visualizer Section -->
        <section class="panel" id="visualizerPanel">
            <div class="panel-header">
                <h2 class="panel-title">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
                <button class="btn-icon" id="visualizerHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
            </div>
            <div class="panel-body">
                
                <label for="visualizerInput" class="label">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</label>
                <div class="input-with-button">
                    <input 
                        type="text" 
                        id="visualizerInput" 
                        class="input input-code" 
                        placeholder="–í—Å—Ç–∞–≤—å—Ç–µ regex –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏"
                    >
                    <button class="btn-primary" id="visualizeBtn">
                        üìä –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </div>

                <div id="visualizerContainer" class="visualizer-container mt-2">
                    <p class="placeholder-text">–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏</p>
                </div>

            </div>
        </section>

               <!-- Tester Section -->
        <section class="panel" id="testerPanel">
            <div class="panel-header">
                <h2 class="panel-title">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <button class="btn-icon" id="testerHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
            </div>
            <div class="panel-body">
                
                <!-- Regex Input -->
                <div class="input-section">
                    <label for="testerRegex" class="label">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <input 
                        type="text" 
                        id="testerRegex" 
                        class="input input-code" 
                        placeholder="–í—Å—Ç–∞–≤—å—Ç–µ regex –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
                    >
                </div>

                <!-- Text Input -->
                <div class="input-section mt-2">
                    <label for="testText" class="label">–¢–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</label>
                    <textarea 
                        id="testText" 
                        class="textarea" 
                        placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è regex"
                        rows="6"
                    ></textarea>
                </div>

                <button class="btn-primary mt-1" id="testBtn">
                    üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
                </button>

                <!-- Test Result -->
                <div class="test-result mt-2" id="testResult" style="display: none;">
                    <div class="result-header">
                        <span class="label">–†–µ–∑—É–ª—å—Ç–∞—Ç:</span>
                        <span id="matchCount" class="match-count">0 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π</span>
                    </div>
                    <div id="testOutput" class="test-output"></div>
                </div>

            </div>
        </section>
        
        <!-- Reverse Converter Section -->
        <section class="panel" id="reversePanel">
            <div class="panel-header">
                <h2 class="panel-title">–û–±—Ä–∞—Ç–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä</h2>
                <button class="btn-icon" id="reverseHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
            </div>
            <div class="panel-body">
                
                <!-- Regex Input -->
                <div class="input-section">
                    <label for="reverseInput" class="label">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <input 
                        type="text" 
                        id="reverseInput" 
                        class="input input-code" 
                        placeholder="–í—Å—Ç–∞–≤—å—Ç–µ regex –¥–ª—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏"
                    >
                </div>

                <button class="btn-primary mt-1" id="reverseBtn">
                    üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                </button>

                <!-- Triggers Output -->
                <div class="reverse-result mt-2" id="reverseResult" style="display: none;">
                    <label class="label">–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:</label>
                    <textarea 
                        id="reverseOutput" 
                        class="textarea" 
                        rows="6"
                        readonly
                    ></textarea>
                    <button class="btn-secondary btn-sm mt-1" id="loadReversedBtn">
                        ‚Üë –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä
                    </button>
                </div>

            </div>
        </section>

        <!-- History Section -->
        <section class="panel" id="historyPanel">
            <div class="panel-header">
                <h2 class="panel-title">–ò—Å—Ç–æ—Ä–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)</h2>
                <button class="btn-danger btn-sm" id="clearHistoryBtn">
                    –û—á–∏—Å—Ç–∏—Ç—å
                </button>
            </div>
            <div class="panel-body">
                <div id="historyContainer" class="history-container">
                    <p class="placeholder-text">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</p>
                </div>
            </div>
        </section>

    </main>
    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" class="scroll-top-btn" title="–ù–∞–≤–µ—Ä—Ö">
        ‚Üë
    </button>

    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text">
            RegexHelper ¬© 2026 | 
            <a href="https://github.com/bogdanuz/regex-helper" target="_blank">GitHub</a>
        </p>
    </footer>

    <!-- Modal: Help -->
    <div id="helpModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">–°–ø—Ä–∞–≤–∫–∞</h3>
                <button class="modal-close" id="closeHelpModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–ø—Ä–∞–≤–∫–∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ...</p>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="closeHelpModalBtn">–ü–æ–Ω—è—Ç–Ω–æ</button>
            </div>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å: –¢–µ—Å—Ç–µ—Ä Regex -->
<div class="panel" id="testerPanel" style="display: none;">
    <div class="panel-header">
        <h2 class="panel-title">üß™ –¢–µ—Å—Ç–µ—Ä Regex</h2>
        <button class="btn-icon" id="closeTesterBtn" title="–°–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–µ—Ä">
            √ó
        </button>
    </div>
    
    <div class="panel-body">
        <!-- –ü–æ–ª–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ -->
        <div class="form-group">
            <label for="testText" class="label">
                –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç
                <span class="label-hint">(–≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ regex)</span>
            </label>
            <textarea 
                id="testText" 
                class="textarea" 
                rows="6" 
                placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–¥–µ—Å—å...&#10;–ù–∞–ø—Ä–∏–º–µ—Ä:&#10;–Ø –∫—É–ø–∏–ª –∫—Ä–∞—Å–Ω–æ–µ —è–±–ª–æ–∫–æ –∏ –∑–µ–ª–µ–Ω—É—é –≥—Ä—É—à—É.&#10;–¢–∞–∫–∂–µ –≤–∑—è–ª –∞–ø–µ–ª—å—Å–∏–Ω –∏ –±–∞–Ω–∞–Ω."
            ></textarea>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="testResults" style="display: none;">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="test-stats">
                <div class="test-stat-item">
                    <span class="test-stat-label">–ù–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</span>
                    <span class="test-stat-value" id="matchCount">0</span>
                </div>
            </div>

            <!-- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π -->
            <div class="test-highlight-container">
                <div class="test-highlight-label">
                    <strong>–¢–µ–∫—Å—Ç —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π:</strong>
                </div>
                <div class="test-highlight" id="testHighlight">
                    <!-- –¢–µ–∫—Å—Ç —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π -->
            <div class="test-matches-container" id="testMatchesContainer" style="display: none;">
                <div class="test-matches-label">
                    <strong>–°–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</strong>
                </div>
                <div class="test-matches-list" id="testMatchesList">
                    <!-- –°–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>

        <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
        <div id="testEmpty" class="test-empty">
            <p>üîç –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
            <p class="text-muted">Regex –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —ç—Ç–æ–º —Ç–µ–∫—Å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
        </div>
    </div>
</div>

    <!-- Modal: Export Options -->
    <div id="exportModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">–≠–∫—Å–ø–æ—Ä—Ç</h3>
                <button class="modal-close" id="closeExportModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞:</p>
                <div class="export-options">
                    <button class="btn-secondary" id="exportTxtBtn">üìÑ TXT</button>
                    <button class="btn-secondary" id="exportJsonBtn">üìã JSON</button>
                    <button class="btn-secondary" id="exportCsvBtn">üìä CSV</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/utils.js"></script>
    <script src="js/errors.js"></script>
    <script src="js/converter.js"></script>
    <script src="js/optimizer.js"></script>
    <script src="js/suggestions.js"></script>
    <script src="js/linked-triggers.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/tester.js"></script>
    <script src="js/reverse.js"></script>
    <script src="js/export.js"></script>
    <script src="js/history.js"></script>
    <script src="js/main.js"></script>

    <!-- Yandex.Metrika (will be added later) -->
    <!-- 
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        ym(XXXXXX, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true });
    </script>
    -->
    <!-- Smooth Scroll & Scroll to Top Script -->
    <script>
        (function() {
            // Smooth scroll –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö"
            const scrollTopBtn = document.getElementById('scrollTopBtn');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    scrollTopBtn.classList.add('visible');
                } else {
                    scrollTopBtn.classList.remove('visible');
                }
            });
            
            scrollTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        })();
    </script>

    
        <!-- Header Hide/Show Script -->
    <script>
        (function() {
            const header = document.querySelector('.header');
            const threshold = 100; // –°–∫—Ä—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ 100px —Å–∫—Ä–æ–ª–ª–∞
            let hideTimeout;
            let lastMouseY = 0;
            
            function updateHeaderVisibility() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop <= threshold) {
                    // –í–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã - –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
                    clearTimeout(hideTimeout);
                    header.classList.remove('hidden');
                    header.classList.add('visible');
                } else {
                    // –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —Å–∫—Ä—ã–≤–∞–µ–º
                    header.classList.add('hidden');
                    header.classList.remove('visible');
                }
            }
            
            // –°–ª–µ–¥–∏–º –∑–∞ —Å–∫—Ä–æ–ª–ª–æ–º
            window.addEventListener('scroll', function() {
                updateHeaderVisibility();
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º header –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤–µ—Ä—Ö —ç–∫—Ä–∞–Ω–∞
            document.addEventListener('mousemove', function(e) {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
                // 1. –ú—ã –Ω–∏–∂–µ threshold (100px)
                // 2. –ö—É—Ä—Å–æ—Ä –≤ –≤–µ—Ä—Ö–Ω–µ–π –∑–æ–Ω–µ (< 80px)
                // 3. –ö—É—Ä—Å–æ—Ä –¥–≤–∏–∂–µ—Ç—Å—è –í–í–ï–†–• (–Ω–µ –≤–Ω–∏–∑)
                if (scrollTop > threshold && e.clientY < 80 && e.clientY < lastMouseY) {
                    // –ù–∞–≤–µ–ª–∏ –∫—É—Ä—Å–æ—Ä –≤–≤–µ—Ä—Ö—É - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
                    clearTimeout(hideTimeout);
                    header.classList.add('visible');
                    header.classList.remove('hidden');
                } else if (scrollTop > threshold && e.clientY > 80) {
                    // –ö—É—Ä—Å–æ—Ä —É—à–µ–ª –≤–Ω–∏–∑ - —Å–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
                    clearTimeout(hideTimeout);
                    hideTimeout = setTimeout(function() {
                        if (window.pageYOffset > threshold) {
                            header.classList.add('hidden');
                            header.classList.remove('visible');
                        }
                    }, 1000);
                }
                
                lastMouseY = e.clientY;
            });
            
            // –î–µ—Ä–∂–∏–º header –≤–∏–¥–∏–º—ã–º –∫–æ–≥–¥–∞ –∫—É—Ä—Å–æ—Ä –Ω–∞ –Ω–µ–º
            header.addEventListener('mouseenter', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                if (scrollTop > threshold) {
                    clearTimeout(hideTimeout);
                    header.classList.add('visible');
                    header.classList.remove('hidden');
                }
            });
            
            header.addEventListener('mouseleave', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                if (scrollTop > threshold) {
                    clearTimeout(hideTimeout);
                    hideTimeout = setTimeout(function() {
                        if (window.pageYOffset > threshold) {
                            header.classList.add('hidden');
                            header.classList.remove('visible');
                        }
                    }, 1000);
                }
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            updateHeaderVisibility();
        })();
    </script>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –ò—Å—Ç–æ—Ä–∏—è -->
<div id="historyModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üìú –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–π</h2>
            <button class="btn-icon modal-close" data-modal="historyModal">√ó</button>
        </div>
        <div class="modal-body">
            <div id="historyList" class="history-list">
                <!-- –ó–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JS -->
            </div>
            <div id="historyEmpty" class="history-empty" style="display: none;">
                <p>üì≠ –ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</p>
                <p class="text-muted">–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –∑–¥–µ—Å—å</p>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger" id="clearHistoryBtn">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é
            </button>
        </div>
    </div>
</div>

</body>
</html>
