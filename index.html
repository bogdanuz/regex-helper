<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RegexHelper - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞">
    <meta name="keywords" content="regex, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –º–æ–¥–µ—Ä–∞—Ü–∏—è">
    <meta name="author" content="RegexHelper">
    
    <title>RegexHelper - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/favicon/web-app-manifest-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="images/favicon/web-app-manifest-512x512.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/popup.css">
    <link rel="stylesheet" href="css/spinner.css">
    <!-- –ù–û–í–û–ï: CSS –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ -->
    <link rel="stylesheet" href="css/visualizer.css">
    
    <!-- RussianNounsJS Library - –°–ò–ù–•–†–û–ù–ù–ê–Ø –∑–∞–≥—Ä—É–∑–∫–∞ (–±–ª–æ–∫–∏—Ä—É—é—â–∞—è) -->
    <script src="lib/russian-nouns/russian-nouns.min.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
        if (typeof RussianNouns !== 'undefined' && typeof RussianNouns.Engine === 'function') {
            console.log('[Library] ‚úÖ RussianNounsJS –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ');
            console.log('[Library] typeof RussianNouns:', typeof RussianNouns);
            console.log('[Library] typeof RussianNouns.Engine:', typeof RussianNouns.Engine);
            console.log('[Library] typeof RussianNouns.Gender:', typeof RussianNouns.Gender);
            console.log('[Library] typeof RussianNouns.Case:', typeof RussianNouns.Case);
            
            // –¢–µ—Å—Ç —Å–∫–ª–æ–Ω–µ–Ω–∏—è
            try {
                const engine = new RussianNouns.Engine();
                const testResult = engine.decline(
                    {text: '–¥—Ä–æ–Ω', gender: RussianNouns.Gender.MASCULINE},
                    RussianNouns.Case.GENITIVE
                );
                console.log('[Library] –¢–µ—Å—Ç —Å–∫–ª–æ–Ω–µ–Ω–∏—è "–¥—Ä–æ–Ω" (—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂):', testResult);
            } catch (e) {
                console.error('[Library] –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∞:', e);
            }
        } else {
            console.error('[Library] ‚ùå –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ RussianNounsJS –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞!');
            console.error('[Library] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª: lib/russian-nouns/russian-nouns.min.js');
            console.error('[Library] –°–∫–∞—á–∞–π—Ç–µ: https://raw.githubusercontent.com/georgy7/RussianNounsJS/refs/heads/release/RussianNouns.min.js');
        }
    </script>
</head>
<body>
    <!-- Loading Spinner -->
    <div id="spinnerOverlay" class="spinner-overlay" style="display: none;">
        <div class="spinner"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <img src="images/logo.png" alt="RegexHelper" height="32">
        </div>
        
        <nav class="header-nav">
            <a href="#converterSection" class="nav-link">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</a>
            <!-- –ù–û–í–û–ï: –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä -->
            <a href="#visualizerSection" class="nav-link">–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä</a>
            <a href="#testerPanel" class="nav-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
            <a href="#historySection" class="nav-link">–ò—Å—Ç–æ—Ä–∏—è</a>
        </nav>
        
        <div class="header-actions">
            <button class="btn-icon" id="regulationsBtn" title="–†–µ–≥–ª–∞–º–µ–Ω—Ç">üìñ</button>
            <button class="btn-danger btn-sm" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">

        <!-- Converter Section -->
        <div class="section-header" id="converterSection">
            <h1 class="section-title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</h1>
            <p class="section-description">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</p>
        </div>
        
        <!-- Three Columns Layout -->
        <section class="three-columns">
            
            <!-- Panel 1: Input Triggers -->
            <div class="panel" id="panelInput">
                <div class="panel-header">
                    <h2 class="panel-title">1. –¢—Ä–∏–≥–≥–µ—Ä—ã</h2>
                    <button class="btn-icon" id="inputHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
                </div>
                <div class="panel-body">
                    
                    <!-- Simple Triggers -->
                    <div class="input-section">
                        <label for="simpleTriggers" class="label">
                            –ü—Ä–æ—Å—Ç—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
                            <span class="label-hint">(–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É, –º–∞–∫—Å 200)</span>
                        </label>
                        <textarea 
                            id="simpleTriggers" 
                            class="textarea" 
                            placeholder="–¥—Ä–æ–Ω&#10;–±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫&#10;–∫–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä&#10;–±–ø–ª–∞"
                            rows="8"
                        ></textarea>
                        <div class="input-footer">
                            <span id="simpleTriggerCount" class="counter">0 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤</span>
                            <span class="duplicate-note" id="duplicateNote" style="display: none;"></span>
                            <button class="btn-icon" onclick="confirmClearSimpleTriggers()" title="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ">üóëÔ∏è</button>
                        </div>
                    </div>

                    <!-- Linked Triggers -->
                    <div class="input-section mt-2">
                        <label class="label">
                            –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
                            <span class="label-hint">(–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å–ª–æ–≤ —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º)</span>
                        </label>
                        <div id="linkedTriggersContainer"></div>
                        <button class="btn-secondary btn-sm mt-1" id="addLinkedGroupBtn">
                            + –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É
                        </button>
                    </div>

                </div>
            </div>

            <!-- Panel 2: Optimization -->
            <div class="panel" id="panelOptimization">
                <div class="panel-header">
                    <h2 class="panel-title">2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</h2>
                    <button class="btn-icon" id="optimizationHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
                </div>
                <div class="panel-body">
                    
                    <p class="hint-text">–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:</p>

                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="checkbox" id="optType1" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–í–∞—Ä–∏–∞—Ü–∏–∏ –±—É–∫–≤ (–ª–∞—Ç–∏–Ω–∏—Ü–∞ ‚Üî –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)</span>
                            <span class="checkbox-hint">–¥—Ä–æ–Ω ‚Üí –¥[d–¥][p—Ä][o–æ]–Ω</span>
                        </div>
                    </label>

                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType2" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–û–±—â–∏–π –∫–æ—Ä–µ–Ω—å (–æ–∫–æ–Ω—á–∞–Ω–∏—è 1-2 –±—É–∫–≤—ã)</span>
                            <span class="checkbox-hint">–∫–Ω–∏–≥–∞, –∫–Ω–∏–≥–∏ ‚Üí –∫–Ω–∏–≥[–∞–∏]</span>
                        </div>
                    </label>

                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType4" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–°–∫–ª–æ–Ω–µ–Ω–∏—è (—Ä—É—Å—Å–∫–∏–µ –ø–∞–¥–µ–∂–∏)</span>
                            <span class="checkbox-hint">–¥—Ä–æ–Ω ‚Üí –¥—Ä–æ–Ω(–∞|—É|–æ–º|–µ|–æ–≤)</span>
                        </div>
                    </label>

                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="optType5" checked>
                        <div class="checkbox-content">
                            <span class="checkbox-label">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª ?</span>
                            <span class="checkbox-hint">–ø–∞—Å—Å–∏–≤–Ω—ã–π, –ø–∞—Å–∏–≤–Ω—ã–π ‚Üí –ø–∞—Å—Å?–∏–≤–Ω—ã–π</span>
                        </div>
                    </label>

                    <button class="btn-primary mt-2" id="convertBtn" style="width: 100%;">
                        üöÄ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>

                </div>
            </div>

            <!-- Panel 3: Result -->
            <div class="panel" id="panelResult">
                <div class="panel-header">
                    <h2 class="panel-title">3. –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                    <div class="panel-header-actions">
                        <button class="btn-icon" onclick="confirmClearResult()" title="–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç">üóëÔ∏è</button>
                        <button class="btn-icon" id="resultHelpBtn" title="–ü–æ–º–æ—â—å">?</button>
                    </div>
                </div>
                
                <div class="panel-body">
                    
                    <label for="resultRegex" class="label">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <textarea 
                        id="resultRegex" 
                        class="textarea input-code" 
                        placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è regex –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏"
                        rows="8"
                        readonly
                    ></textarea>
                    
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div id="resultStats" class="result-stats" style="display: none;"></div>
                    
                    <!-- –ò–Ω—Ñ–æ –æ –¥–ª–∏–Ω–µ -->
                    <div class="result-info mt-1">
                        <span id="regexLength" class="info-text">–î–ª–∏–Ω–∞: 0 —Å–∏–º–≤–æ–ª–æ–≤</span>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                    <div class="button-group mt-2">
                        <button class="btn-primary" id="copyRegexBtn">
                            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="btn-secondary" id="exportBtn">
                            üíæ –≠–∫—Å–ø–æ—Ä—Ç
                        </button>
                    </div>

                </div>
            </div>

        </section>

        <!-- –í–ò–ó–£–ê–õ–ò–ó–ê–¢–û–† REGEX (–û–ë–ù–û–í–õ–ï–ù–û v3.0) -->
<section id="visualizerSection" class="tool-section">
    <div class="section-header">
        <h2>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä Regex</h2>
    </div>
    
    <div class="section-content">
        <!-- –ü–æ–ª–µ –¥–ª—è regex -->
        <div class="visualizer-input-group">
            <label for="visualizerRegex">–í–≤–µ–¥–∏—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:</label>
            <textarea 
                id="visualizerRegex" 
                rows="3" 
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: \d+[a-z]* –∏–ª–∏ (–¥—Ä–æ–Ω|–∫–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä|–±–ø–ª–∞)"
            ></textarea>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
        <div class="visualizer-buttons">
            <button id="visualizeBtn">üìä –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        
        <!-- SVG –¥–∏–∞–≥—Ä–∞–º–º–∞ -->
        <div id="diagramContainer"></div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="visualizer-controls">
            <button id="exportSvgBtn">üíæ –≠–∫—Å–ø–æ—Ä—Ç SVG</button>
            <button id="exportPngBtn">üñºÔ∏è –≠–∫—Å–ø–æ—Ä—Ç PNG</button>
            <button id="openFullscreenBtn">‚õ∂ –ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω</button>
            <button id="zoomInBtn" title="–£–≤–µ–ª–∏—á–∏—Ç—å">üîç+</button>
            <button id="zoomOutBtn" title="–£–º–µ–Ω—å—à–∏—Ç—å">üîç‚àí</button>
        </div>
    </div>
</section>
        
        <!-- ============================================================ -->
        <!-- –ö–û–ù–ï–¶ –ù–û–í–û–ô –°–ï–ö–¶–ò–ò -->
        <!-- ============================================================ -->

        <!-- Tester Panel -->
        <section class="panel" id="testerPanel" style="display: none;">
            <div class="panel-header">
                <h2 class="panel-title">üß™ –¢–µ—Å—Ç–µ—Ä Regex</h2>
                <button class="btn-icon" id="closeTesterBtn" title="–°–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–µ—Ä">√ó</button>
            </div>
            
            <div class="panel-body">
                <div class="form-group">
                    <label for="testText" class="label">
                        –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç
                        <span class="label-hint">(–≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ regex)</span>
                    </label>
                    <textarea 
                        id="testText" 
                        class="textarea" 
                        rows="6" 
                        placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–¥–µ—Å—å...&#10;–ù–∞–ø—Ä–∏–º–µ—Ä:&#10;–ö—É–ø–∏–ª –¥—Ä–æ–Ω –∏ –±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫. –ö–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä —Ç–æ–∂–µ –µ—Å—Ç—å."
                    ></textarea>
                </div>

                <div id="testResults" style="display: none;">
                    <div class="test-stats">
                        <div class="test-stat-item">
                            <span class="test-stat-label">–ù–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</span>
                            <span class="test-stat-value" id="matchCount">0</span>
                        </div>
                    </div>

                    <div class="test-highlight-container">
                        <div class="test-highlight-label">
                            <strong>–¢–µ–∫—Å—Ç —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π:</strong>
                        </div>
                        <div class="test-highlight" id="testHighlight"></div>
                    </div>

                    <div class="test-matches-container" id="testMatchesContainer" style="display: none;">
                        <div class="test-matches-label">
                            <strong>–°–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:</strong>
                        </div>
                        <div class="test-matches-list" id="testMatchesList"></div>
                    </div>
                </div>

                <div id="testEmpty" class="test-empty">
                    <p>üîç –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                    <p class="text-muted">Regex –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —ç—Ç–æ–º —Ç–µ–∫—Å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
                </div>
            </div>
        </section>

        <!-- History Section -->
        <section class="panel" id="historySection">
            <div class="panel-header">
                <h2 class="panel-title">üìú –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–π</h2>
                <button class="btn-icon" id="refreshHistoryBtn" title="–û–±–Ω–æ–≤–∏—Ç—å">üîÑ</button>
            </div>
            
            <div class="panel-body">
                <div id="historyList" class="history-list"></div>
                <div id="historyEmpty" class="history-empty" style="display: block;">
                    <p>üì≠ –ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</p>
                    <p class="text-muted">–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –∑–¥–µ—Å—å</p>
                </div>
                
                <div class="mt-2">
                    <button class="btn-danger btn-sm" id="clearHistoryBtn">
                        üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                    </button>
                </div>
            </div>
        </section>

    </main>

    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" class="scroll-top-btn" title="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>
    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text">
            RegexHelper ¬© 2026 | 
            <a href="https://github.com/bogdanuz/regex-helper" target="_blank">GitHub</a>
        </p>
    </footer>

    <!-- Modal: Confirm Clear -->
    <div id="confirmModal" class="modal-overlay" style="display: none;">
        <div class="modal modal-small">
            <div class="modal-header">
                <h3 class="modal-title" id="confirmModalTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
            </div>
            <div class="modal-body">
                <p id="confirmModalText">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
            </div>
            <div class="modal-footer">
                <button class="btn-danger" id="confirmModalYes">–î–∞</button>
                <button class="btn-secondary" id="confirmModalNo">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Modal: Regulations -->
    <div id="regulationsModal" class="modal-overlay" style="display: none;">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 class="modal-title">üìñ –†–µ–≥–ª–∞–º–µ–Ω—Ç —Ä–∞–±–æ—Ç—ã —Å RegexHelper</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body modal-body-scrollable">
                
                <h3>üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h3>
                
                <div class="regulation-section">
                    <h4>1. –í–∞—Ä–∏–∞—Ü–∏–∏ –±—É–∫–≤ (–ª–∞—Ç–∏–Ω–∏—Ü–∞ ‚Üî –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)</h4>
                    <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –ø–æ—Ö–æ–∂–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∞–ª—Ñ–∞–≤–∏—Ç–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –æ–±—Ö–æ–¥–∞.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–¥—Ä–æ–Ω ‚Üí –¥[d–¥][p—Ä][o–æ]–Ω</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–¥—Ä–æ–Ω" (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞) –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å –ª–∞—Ç–∏–Ω–∏—Ü–µ–π (dron, dr–æn –∏ —Ç.–¥.)</em>
                    </div>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>test ‚Üí [t—Ç][e–µ][s—ï][t—Ç]</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "test", "—Çest", "—Ç–µ—ït" –∏ –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å –∑–∞–º–µ–Ω–∞–º–∏</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>2. –û–±—â–∏–π –∫–æ—Ä–µ–Ω—å (–æ–∫–æ–Ω—á–∞–Ω–∏—è)</h4>
                    <p>–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–ª–æ–≤–∞ —Å –æ–±—â–∏–º –∫–æ—Ä–Ω–µ–º –∏ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è–º–∏ (1-2 –±—É–∫–≤—ã).</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–∫–Ω–∏–≥[–∞–∏]</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–∫–Ω–∏–≥–∞" –∏ "–∫–Ω–∏–≥–∏"</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>3. –ö—Ä—É–≥–ª—ã–µ —Å–∫–æ–±–∫–∏ "()" (–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ü–∏—è)</h4>
                    <p>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>(—á–µ—Ä|–∫–ª—É–±)–Ω–∏–∫–∞</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "—á–µ—Ä–Ω–∏–∫–∞" –∏ "–∫–ª—É–±–Ω–∏–∫–∞"</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>4. –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ "[]" (–ù–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤)</h4>
                    <p>–£–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤, –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –Ω–∞ —ç—Ç–æ–º –º–µ—Å—Ç–µ.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–∞–ª–∫–æ–≥–æ–ª[—å—è—é]</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–∞–ª–∫–æ–≥–æ–ª—å", "–∞–ª–∫–æ–≥–æ–ª—è", "–∞–ª–∫–æ–≥–æ–ª—é"</em>
                    </div>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>—É–¥–∞–ª[–µ—ë]–Ω–Ω—ã–π</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "—É–¥–∞–ª–µ–Ω–Ω—ã–π" –∏ "—É–¥–∞–ª—ë–Ω–Ω—ã–π"</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>5. –ì—Ä–∞–Ω–∏—Ü–∞ —Å–ª–æ–≤–∞ "\\b"</h4>
                    <p>–£–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã —Ç—Ä–∏–≥–≥–µ—Ä–∞. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ ‚â§ 3 —Å–∏–º–≤–æ–ª–æ–≤.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>\\b–∫–æ—Ç\\b</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–∫–æ—Ç" (–Ω–æ –ù–ï "–∫–æ—Ç–æ—Ä—ã–π", "–∞–ø–ø–µ—Ä–∫–æ—Ç")</em>
                    </div>
                    <div class="warning-box">
                        ‚ö†Ô∏è <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ:</strong> –ì—Ä–∞–Ω–∏—Ü—ã <code>\\b</code> –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏–∑ 3 –∏ –º–µ–Ω–µ–µ —Å–∏–º–≤–æ–ª–æ–≤.
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>6. –ó–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞ "?" (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª)</h4>
                    <p>–°—Ç–∞–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ —Å–∏–º–≤–æ–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å, –∞ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–ø–∞—Å—Å?–∏–≤–Ω—ã–π</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–ø–∞—Å—Å–∏–≤–Ω—ã–π" (—Å –¥–≤—É–º—è "—Å") –∏ "–ø–∞—Å–∏–≤–Ω—ã–π" (—Å –æ–¥–Ω–æ–π "—Å")</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>7. –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —á–µ—Ä—Ç–∞ "|" (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ü–∏—è)</h4>
                    <p>–û–±–æ–∑–Ω–∞—á–∞–µ—Ç "–∏–ª–∏". –ü–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã –∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–¥—Ä–æ–Ω|–±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫|–∫–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä|–±–ø–ª–∞</code><br>
                        <em>–û–∑–Ω–∞—á–∞–µ—Ç: –Ω–∞–π—Ç–∏ "–¥—Ä–æ–Ω" –ò–õ–ò "–±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫" –ò–õ–ò "–∫–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä" –ò–õ–ò "–±–ø–ª–∞"</em>
                    </div>
                </div>

                <h3>üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)</h3>

                <div class="regulation-section">
                    <h4>8. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ ".{min,max}"</h4>
                    <p>–õ—é–±–æ–π —Å–∏–º–≤–æ–ª –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–≤—ã–∫—É–ø.{1,7}–¥–æ—Ä–æ–≥–æ</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–≤—ã–∫—É–ø –¥–æ—Ä–æ–≥–æ", "–≤—ã–∫—É–ø–ª—é –¥–æ—Ä–æ–≥–æ", "–≤—ã–∫—É–ø —É –≤–∞—Å –¥–æ—Ä–æ–≥–æ"</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>9. –õ—é–±–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ "[\\s\\S]+"</h4>
                    <p>–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏. –í–∞–∂–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>–≤–æ–µ–Ω–Ω—ã–π[\\s\\S]+–¥—Ä–æ–Ω</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–≤–æ–µ–Ω–Ω—ã–π –¥—Ä–æ–Ω" –¥–∞–∂–µ —á–µ—Ä–µ–∑ 10 –∞–±–∑–∞—Ü–µ–≤</em>
                    </div>
                </div>

                <div class="regulation-section">
                    <h4>10. –õ—é–±–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (A‚ÜíB –∏–ª–∏ B‚ÜíA)</h4>
                    <p>–¢—Ä–∏–≥–≥–µ—Ä—ã –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ.</p>
                    <div class="example-box">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>(–≤–æ–µ–Ω–Ω—ã–π[\\s\\S]+–¥—Ä–æ–Ω)|(–¥—Ä–æ–Ω[\\s\\S]+–≤–æ–µ–Ω–Ω—ã–π)</code><br>
                        <em>–ù–∞—Ö–æ–¥–∏—Ç: "–≤–æ–µ–Ω–Ω—ã–π...–¥—Ä–æ–Ω" –ò "–¥—Ä–æ–Ω...–≤–æ–µ–Ω–Ω—ã–π"</em>
                    </div>
                </div>

                <h3>‚öôÔ∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏?</h3>
                <ol>
                    <li>–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤ –ø–∞–Ω–µ–ª—å 1</li>
                    <li>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É <strong>‚öô</strong> —Ä—è–¥–æ–º —Å —Ç—Ä–∏–≥–≥–µ—Ä–æ–º</li>
                    <li>–í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
                    <li>–ù–∞–∂–º–∏—Ç–µ <strong>"–ü—Ä–∏–º–µ–Ω–∏—Ç—å"</strong></li>
                    <li>–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã</li>
                </ol>

                <div class="info-box">
                    üí° <strong>–°–æ–≤–µ—Ç:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ø–∞–Ω–µ–ª—å 2) –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤, 
                    –∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (‚öô) ‚Äî –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
                </div>

            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeModal('regulationsModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Modal: Panel Help -->
    <div id="panelHelpModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="panelHelpTitle">–ü–æ–º–æ—â—å</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body modal-body-scrollable" id="panelHelpContent">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeModal('panelHelpModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Modal: Trigger Settings -->
    <div id="triggerSettingsModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è "<span id="triggerSettingsTitle"></span>"</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="hint-text">–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞:</p>
                
                <label class="checkbox-wrapper">
                    <input type="checkbox" class="checkbox" id="triggerOptType1">
                    <div class="checkbox-content">
                        <span class="checkbox-label">–í–∞—Ä–∏–∞—Ü–∏–∏ –±—É–∫–≤ (–ª–∞—Ç–∏–Ω–∏—Ü–∞ ‚Üî –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)</span>
                        <span class="checkbox-hint">–¥—Ä–æ–Ω ‚Üí –¥[d–¥][p—Ä][o–æ]–Ω</span>
                    </div>
                </label>
                
                <label class="checkbox-wrapper mt-1">
                    <input type="checkbox" class="checkbox" id="triggerOptType2">
                    <div class="checkbox-content">
                        <span class="checkbox-label">–û–±—â–∏–π –∫–æ—Ä–µ–Ω—å</span>
                        <span class="checkbox-hint">–∫–Ω–∏–≥–∞, –∫–Ω–∏–≥–∏ ‚Üí –∫–Ω–∏–≥[–∞–∏]</span>
                    </div>
                </label>
                
                <label class="checkbox-wrapper mt-1">
                    <input type="checkbox" class="checkbox" id="triggerOptType4">
                    <div class="checkbox-content">
                        <span class="checkbox-label">–°–∫–ª–æ–Ω–µ–Ω–∏—è</span>
                        <span class="checkbox-hint">–¥—Ä–æ–Ω ‚Üí –¥—Ä–æ–Ω(–∞|—É|–æ–º|–µ|–æ–≤)</span>
                    </div>
                </label>
                
                <label class="checkbox-wrapper mt-1">
                    <input type="checkbox" class="checkbox" id="triggerOptType5">
                    <div class="checkbox-content">
                        <span class="checkbox-label">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª ?</span>
                        <span class="checkbox-hint">–ø–∞—Å—Å?–∏–≤–Ω—ã–π</span>
                    </div>
                </label>
            </div>
            <div class="modal-footer" style="display: flex; gap: 10px; justify-content: space-between;">
                <button class="btn-danger" id="resetTriggerSettingsBtn">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <div style="display: flex; gap: 10px;">
                    <button class="btn-primary" id="applyTriggerSettingsBtn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    <button class="btn-secondary" onclick="closeModal('triggerSettingsModal')">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Group Settings -->
    <div id="groupSettingsModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã</h3>
                <button class="modal-close" onclick="closeGroupSettingsModal()">&times;</button>
            </div>
            <div class="modal-body modal-body-scrollable">
                
                <!-- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ -->
                <div class="settings-section">
                    <h4 class="settings-section-title">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏</h4>
                    
                    <label class="radio-wrapper">
                        <input type="radio" name="groupDistanceType" value="fixed" class="radio" checked>
                        <div class="radio-content">
                            <span class="radio-label">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ .{min,max}</span>
                            <span class="radio-hint">–¢–æ—á–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –≤—ã–∫—É–ø.{1,7}–¥–æ—Ä–æ–≥–æ)</span>
                        </div>
                    </label>
                    
                    <!-- –ü–æ–ª—è min/max (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è fixed) -->
                    <div class="distance-minmax" style="margin-left: 28px; margin-top: 8px; display: block;">
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <span style="font-size: 14px; color: #666;">Min:</span>
                                <input type="number" id="groupDistanceMin" class="input input-sm" 
                                       style="width: 60px;" min="0" max="999" value="1">
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <span style="font-size: 14px; color: #666;">Max:</span>
                                <input type="number" id="groupDistanceMax" class="input input-sm" 
                                       style="width: 60px;" min="0" max="999" value="7">
                            </label>
                        </div>
                    </div>
                    
                    <label class="radio-wrapper mt-1">
                        <input type="radio" name="groupDistanceType" value="any" class="radio">
                        <div class="radio-content">
                            <span class="radio-label">–õ—é–±–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ [\\s\\S]+</span>
                            <span class="radio-hint">–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (–≤–æ–µ–Ω–Ω—ã–π[\\s\\S]+–¥—Ä–æ–Ω)</span>
                        </div>
                    </label>
                    
                    <label class="radio-wrapper mt-1">
                        <input type="radio" name="groupDistanceType" value="paragraph" class="radio">
                        <div class="radio-content">
                            <span class="radio-label">–í –ø—Ä–µ–¥–µ–ª–∞—Ö –∞–±–∑–∞—Ü–∞ .+</span>
                            <span class="radio-hint">–ù–µ —á–µ—Ä–µ–∑ —Ä–∞–∑—Ä—ã–≤ –∞–±–∑–∞—Ü–∞ (–≤–æ–µ–Ω–Ω—ã–π.+–¥—Ä–æ–Ω)</span>
                        </div>
                    </label>
                    
                    <label class="radio-wrapper mt-1">
                        <input type="radio" name="groupDistanceType" value="line" class="radio">
                        <div class="radio-content">
                            <span class="radio-label">–í –ø—Ä–µ–¥–µ–ª–∞—Ö —Å—Ç—Ä–æ–∫–∏ [^\\n]+</span>
                            <span class="radio-hint">–ù–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ (–≤–æ–µ–Ω–Ω—ã–π[^\\n]+–¥—Ä–æ–Ω)</span>
                        </div>
                    </label>
                </div>
                
                <!-- –ü–æ—Ä—è–¥–æ–∫ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ -->
                <div class="settings-section mt-2">
                    <h4 class="settings-section-title">–ü–æ—Ä—è–¥–æ–∫ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤</h4>
                    
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="checkbox" id="groupAnyOrder">
                        <div class="checkbox-content">
                            <span class="checkbox-label">–õ—é–±–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (A+B)|(B+A)</span>
                            <span class="checkbox-hint">–¢—Ä–∏–≥–≥–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ</span>
                        </div>
                    </label>
                </div>
                
                <!-- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ –≥—Ä—É–ø–ø–µ -->
                <div class="settings-section mt-2">
                    <h4 class="settings-section-title">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ –≥—Ä—É–ø–ø–µ</h4>
                    
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="checkbox" id="groupType1">
                        <div class="checkbox-content">
                            <span class="checkbox-label">–í–∞—Ä–∏–∞—Ü–∏–∏ –±—É–∫–≤ (–ª–∞—Ç–∏–Ω–∏—Ü–∞ ‚Üî –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)</span>
                            <span class="checkbox-hint">–¥—Ä–æ–Ω ‚Üí –¥[d–¥][p—Ä][o–æ]–Ω</span>
                        </div>
                    </label>
                    
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="groupType2">
                        <div class="checkbox-content">
                            <span class="checkbox-label">–û–±—â–∏–π –∫–æ—Ä–µ–Ω—å</span>
                            <span class="checkbox-hint">–∫–Ω–∏–≥–∞, –∫–Ω–∏–≥–∏ ‚Üí –∫–Ω–∏–≥[–∞–∏]</span>
                        </div>
                    </label>
                    
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="groupType4">
                        <div class="checkbox-content">
                            <span class="checkbox-label">–°–∫–ª–æ–Ω–µ–Ω–∏—è</span>
                            <span class="checkbox-hint">–¥—Ä–æ–Ω ‚Üí –¥—Ä–æ–Ω(–∞|—É|–æ–º|–µ|–æ–≤)</span>
                        </div>
                    </label>
                    
                    <label class="checkbox-wrapper mt-1">
                        <input type="checkbox" class="checkbox" id="groupType5">
                        <div class="checkbox-content">
                            <span class="checkbox-label">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª ?</span>
                            <span class="checkbox-hint">–ø–∞—Å—Å?–∏–≤–Ω—ã–π</span>
                        </div>
                    </label>
                </div>
                
            </div>
            <div class="modal-footer" style="display: flex; gap: 10px; justify-content: space-between;">
                <button class="btn-danger" onclick="resetGroupSettings()">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <div style="display: flex; gap: 10px;">
                    <button class="btn-primary" onclick="applyGroupSettings()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    <button class="btn-secondary" onclick="closeGroupSettingsModal()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
    <div id="exportModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>üíæ –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</h3>
                <button class="modal-close" onclick="closeExportModal()">‚úï</button>
            </div>
            
            <div class="modal-body">
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:</p>
                
                <div class="export-options">
                    <button class="btn-primary btn-block" id="exportTxtBtn">
                        üìÑ –≠–∫—Å–ø–æ—Ä—Ç –≤ TXT
                        <span class="btn-description">–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å regex –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏</span>
                    </button>
                    
                    <button class="btn-primary btn-block" id="exportJsonBtn">
                        üì¶ –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON
                        <span class="btn-description">–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</span>
                    </button>
                    
                    <button class="btn-primary btn-block" id="exportCsvBtn">
                        üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
                        <span class="btn-description">–¢–∞–±–ª–∏—Ü–∞ –¥–ª—è Excel/Google Sheets</span>
                    </button>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeExportModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    
    <!-- JavaScript Libraries -->
    <!-- –ù–û–í–û–ï: Railroad Diagrams Library -->
    <script src="lib/regex-visualizer.js"></script>
    
    <!-- JavaScript Modules -->
    <script src="js/utils.js"></script>
    <script src="js/errors.js"></script>
    <script src="js/converter.js"></script>
    <script src="js/optimizer.js"></script>
    <script src="js/suggestions.js"></script>
    <script src="js/linked-triggers.js"></script>
    <script src="js/export.js"></script>
    <script src="js/history.js"></script>
    <script src="js/tester.js"></script>
    <!-- –ù–û–í–û–ï: Visualizer Module -->
    <script src="js/visualizer.js"></script>
    <script src="js/main.js"></script>
    <script src="js/inline-scripts.js"></script>
</body>
</html>
