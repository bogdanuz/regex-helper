{
  "metadata": {
    "version": "1.0.0",
    "description": "Словарь типичных окончаний русских слов для оптимизации regex",
    "created": "2026-02-08",
    "encoding": "UTF-8"
  },
  
  "common_endings": {
    "nouns_singular_plural": {
      "description": "Окончания существительных (единственное/множественное число)",
      "patterns": [
        ["а", "ы"],
        ["а", "и"],
        ["о", "а"],
        ["я", "и"],
        ["ь", "и"],
        ["й", "и"],
        ["", "ы"],
        ["", "и"],
        ["ок", "ки"],
        ["ек", "ьки"],
        ["ец", "цы"]
      ]
    },
    
    "nouns_cases": {
      "description": "Падежные окончания существительных",
      "patterns": [
        ["а", "е", "у", "ой", "ы"],
        ["о", "а", "у", "ом", "е"],
        ["я", "и", "ю", "ей", "е"],
        ["ь", "и", "ем", "ью"]
      ]
    },
    
    "adjectives": {
      "description": "Окончания прилагательных",
      "patterns": [
        ["ый", "ая", "ое", "ые"],
        ["ий", "яя", "ее", "ие"],
        ["ой", "ая", "ое", "ые"]
      ]
    },
    
    "verbs_present": {
      "description": "Окончания глаголов (настоящее время)",
      "patterns": [
        ["ю", "ешь", "ет", "ем", "ете", "ют"],
        ["у", "ишь", "ит", "им", "ите", "ят"]
      ]
    },
    
    "verbs_past": {
      "description": "Окончания глаголов (прошедшее время)",
      "patterns": [
        ["л", "ла", "ло", "ли"],
        ["", "а", "о", "и"]
      ]
    }
  },
  
  "special_cases": {
    "description": "Особые случаи и исключения",
    "patterns": {
      "consonant_doubling": {
        "description": "Удвоение согласных (можно оптимизировать через ?)",
        "examples": [
          ["ф", "фф"],
          ["с", "сс"],
          ["л", "лл"],
          ["м", "мм"],
          ["н", "нн"]
        ]
      },
      
      "vowel_alternation": {
        "description": "Чередование гласных",
        "examples": [
          ["о", "а"],
          ["е", "и"],
          ["я", "и"]
        ]
      },
      
      "soft_hard_signs": {
        "description": "Ъ и Ь знаки (могут быть опциональными)",
        "examples": [
          ["ь", ""],
          ["ъ", ""]
        ]
      }
    }
  },
  
  "examples": {
    "description": "Примеры применения оптимизации",
    "cases": [
      {
        "input": ["яблоко", "яблока", "яблоку"],
        "optimized": "яблок[оау]",
        "explanation": "Общий корень 'яблок' + набор окончаний [оау]"
      },
      {
        "input": ["груша", "груши", "груше"],
        "optimized": "груш[аие]",
        "explanation": "Общий корень 'груш' + набор окончаний [аие]"
      },
      {
        "input": ["фрукт", "фрукта", "фрукту", "фруктов"],
        "optimized": "фрукт(а|у|ов)?",
        "explanation": "Корень 'фрукт' + опциональные окончания"
      },
      {
        "input": ["товар", "товары"],
        "optimized": "товар(ы)?",
        "explanation": "Опциональное окончание 'ы'"
      },
      {
        "input": ["книжка", "книжки", "книжке"],
        "optimized": "книжк[аие]",
        "explanation": "Уменьшительная форма с окончаниями"
      }
    ]
  },
  
  "optimization_rules": {
    "description": "Правила применения оптимизации",
    "rules": [
      {
        "rule_id": 1,
        "name": "Минимальная длина корня",
        "value": 3,
        "explanation": "Не оптимизируем если корень короче 3 символов (избегаем ложных срабатываний)"
      },
      {
        "rule_id": 2,
        "name": "Максимум окончаний в наборе",
        "value": 6,
        "explanation": "Если окончаний больше 6, лучше оставить через | (более читабельно)"
      },
      {
        "rule_id": 3,
        "name": "Длина окончания",
        "value": 4,
        "explanation": "Окончания длиннее 4 символов не оптимизируем через [] (эффект минимален)"
      },
      {
        "rule_id": 4,
        "name": "Приоритет оптимизации",
        "order": ["brackets", "optional", "grouping"],
        "explanation": "[аие] > (а)? > (а|и|е)"
      }
    ]
  },
  
  "word_templates": {
    "description": "Шаблоны частых слов для быстрой оптимизации",
    "templates": {
      "fruits": {
        "яблок": ["о", "а", "у", "ом", "е", "и"],
        "груш": ["а", "и", "е", "ей", "ами"],
        "апельсин": ["", "а", "у", "ом", "е", "ы", "ов"],
        "банан": ["", "а", "у", "ом", "е", "ы", "ов"]
      },
      
      "products": {
        "товар": ["", "а", "у", "ом", "е", "ы", "ов"],
        "продукт": ["", "а", "у", "ом", "е", "ы", "ов"],
        "услуг": ["а", "и", "е", "ой", "ами"]
      },
      
      "actions": {
        "продава": ["ть", "ю", "ешь", "ет", "ем", "ете", "ют", "л", "ла", "ли"],
        "покупа": ["ть", "ю", "ешь", "ет", "ем", "ете", "ют", "л", "ла", "ли"]
      }
    }
  },
  
  "cyrillic_latin_pairs": {
    "description": "Пары кириллица-латиница для функции 'Замена латиница↔кириллица'",
    "pairs": {
      "а": "a",
      "е": "e",
      "о": "o",
      "р": "p",
      "с": "c",
      "у": "y",
      "х": "x",
      "А": "A",
      "В": "B",
      "Е": "E",
      "К": "K",
      "М": "M",
      "Н": "H",
      "О": "O",
      "Р": "P",
      "С": "C",
      "Т": "T",
      "Х": "X"
    },
    "example": {
      "input": "banana",
      "optimized": "[bв][aа][nп][aа][nп][aа]",
      "explanation": "Каждая буква заменяется на [латиница|кириллица]"
    }
  },
  
  "grouping_templates": {
    "description": "Шаблоны для функции 'Группировка'",
    "examples": [
      {
        "input": ["черника", "клубника"],
        "optimized": "(чер|клуб)ника",
        "common_part": "ника",
        "different_parts": ["чер", "клуб"]
      },
      {
        "input": ["автомобиль", "автобус", "автосервис"],
        "optimized": "авто(мобиль|бус|сервис)",
        "common_part": "авто",
        "different_parts": ["мобиль", "бус", "сервис"]
      },
      {
        "input": ["продавать", "продавец", "продажа"],
        "optimized": "прода(вать|вец|жа)",
        "common_part": "прода",
        "different_parts": ["вать", "вец", "жа"]
      }
    ]
  },
  
  "performance_hints": {
    "description": "Советы по производительности оптимизатора",
    "hints": [
      {
        "hint": "Кешировать результаты",
        "explanation": "Если триггер уже обрабатывался, использовать кеш"
      },
      {
        "hint": "Обрабатывать батчами",
        "explanation": "Группировать триггеры по первой букве для ускорения"
      },
      {
        "hint": "Использовать Set для дедупликации",
        "explanation": "Быстрее чем Array.filter"
      },
      {
        "hint": "Lazy loading для библиотеки склонений",
        "explanation": "Загружать russian-nouns-js только при необходимости"
      }
    ]
  }
}